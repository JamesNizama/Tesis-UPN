<!-- Formulario de Nuevo Ticket -->
<div id="new-ticket-content">
    <h3 class="mb-4">Crear Nuevo Ticket</h3>

    <form id="new-ticket-form"  *ngIf="ticketForm"  [formGroup]="ticketForm" (ngSubmit)="enviarTicket()">

        <div class="form-section">
            <label for="carrera" class="form-label">Carrera</label>
            <select class="form-select" id="carrera" name="carrera" formControlName="career" required>
                <option value="" disabled selected>Seleccione su carrera</option>
                <option *ngFor="let carrera of carreras" [value]="carrera">
                    {{ carrera }}
                </option>
            </select>
        </div>


        <div class="form-section">
            <label for="categoria" class="form-label">Categoría</label>
            <select class="form-select" id="categoria" name="categoria" formControlName="categoria"  required>
                <option *ngFor="let cat of categorias" [value]="cat">{{ cat }}</option>
            </select>
        </div>

        <div class="form-section">
            <label for="descripcion" class="form-label">Descripción</label>
            <textarea class="form-control" id="descripcion" formControlName="description" name="descripcion" rows="5"
                required></textarea>
        </div>

        <div class="form-section">
            <label for="comentarioEstudiante" class="form-label">Comentario adicional (opcional)</label>
            <textarea class="form-control" id="comentarioEstudiante" name="comentarioEstudiante" rows="3"
                formControlName="student_comments"></textarea>
        </div>

        <div class="form-section">
            <label for="canal" class="form-label">Canal de ingreso</label>
            <select class="form-select" id="canal" name="canal" formControlName="channel" required>
                <option value="" disabled>Seleccione un canal</option>
                <option value="web">Web</option>
                <option value="correo">Correo</option>
                <option value="presencial">Presencial</option>
            </select>
        </div>

        <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
            <button type="button" class="btn btn-secondary" (click)="cancelar()">Cancelar</button>
            <button type="submit" class="btn btn-primary">Enviar Ticket</button>
        </div>
    </form>

    <!--
    <form id="new-ticket-form" (ngSubmit)="enviarTicket()" #ticketForm="ngForm">

        <div class="form-section">
            <label for="carrera" class="form-label">Carrera</label>
            <select class="form-select" id="carrera" name="carrera" [(ngModel)]="ticket.carrera" required>
                <option value="" disabled selected>Seleccione su carrera</option>
                <option *ngFor="let carrera of carreras" [value]="carrera">
                    {{ carrera }}
                </option>
            </select>
        </div>


        <div class="form-section">
            <label for="categoria" class="form-label">Categoría</label>
            <select class="form-select" id="categoria" name="categoria" [(ngModel)]="ticket.categoria" required>
                <option *ngFor="let cat of categorias" [value]="cat">{{ cat }}</option>
            </select>
        </div>

        <div class="form-section">
            <label for="descripcion" class="form-label">Descripción</label>
            <textarea class="form-control" id="descripcion" name="descripcion" rows="5" [(ngModel)]="ticket.descripcion"
                required></textarea>
        </div>

        <div class="form-section">
            <label for="comentarioEstudiante" class="form-label">Comentario adicional (opcional)</label>
            <textarea class="form-control" id="comentarioEstudiante" name="comentarioEstudiante" rows="3"
                [(ngModel)]="ticket.comentarioEstudiante"></textarea>
        </div>

        <div class="form-section">
            <label for="canal" class="form-label">Canal de ingreso</label>
            <select class="form-select" id="canal" name="canal" [(ngModel)]="ticket.canal" required>
                <option value="" disabled>Seleccione un canal</option>
                <option value="web">Web</option>
                <option value="correo">Correo</option>
                <option value="presencial">Presencial</option>
            </select>
        </div>

        <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
            <button type="button" class="btn btn-secondary" (click)="cancelar()">Cancelar</button>
            <button type="submit" class="btn btn-primary" [disabled]="!ticketForm.form.valid">Enviar Ticket</button>
        </div>
    </form>-->
</div>